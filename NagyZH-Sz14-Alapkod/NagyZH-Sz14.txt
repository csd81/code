

InnentÅ‘l kezdve (az elÅ‘bb emlÃ­tett beolvasÃ¡st leszÃ¡mÃ­tva) a teljes pontszÃ¡mhoz a Tavern osztÃ¡ly nem hivatkozhat a konkrÃ©t gyerekosztÃ¡lyokra, csak az Å‘sosztÃ¡lyra.

Vagyis, a gyerekosztÃ¡lyok szerinti esetszÃ©tvÃ¡lasztÃ¡sokat ajÃ¡nlott virtuÃ¡lis metÃ³dusokkal megoldani. Legyen a Tavern osztÃ¡lyban printAll metÃ³dus, ami kiÃ­rja a szereplÅ‘k adatait. A Party osztÃ¡ly reprezentÃ¡lja a felbÃ©relt csapatot. Konstruktorban kapja meg egy szÃ¶vegfÃ¡jl nevÃ©t, Ã©s a Tavern-t, ahol a harcosok vannak tÃ¡rolva. A fÃ¡jlban a felbÃ©rlendÅ‘ harcosok azonosÃ­tÃ³i vannak felsorolva, az azonosÃ­tÃ³k nem tartalmaznak whitespace-t Ã©s mind kÃ¼lÃ¶nbÃ¶zÅ‘k. A konstruktor tÃ¶ltse is be az adatokat. A csapaton belÃ¼l a sorrend lÃ©nyeges. (Tipp: cÃ©lszerÅ± a Tavern-bÅ‘l a megfelelÅ‘ harcosok mutatÃ³it lekÃ©rdezni, Ã©s a Party-ban ezeket a mutatÃ³kat eltÃ¡rolni.) A Party osztÃ¡lyban is legyen printAll metÃ³dus, ami a csapat tagjait Ã­rja ki.

Legyen a Party osztÃ¡lyban egy getTotalCost metÃ³dus is, ami visszaadja a csapat teljes zsoldjÃ¡t. A Dragon osztÃ¡ly reprezentÃ¡l egy sÃ¡rkÃ¡nyt. Van neki Ã©letereje Ã©s pÃ¡ncÃ©lja. A Dragon osztÃ¡ly kÃ³djÃ¡t nem szabad mÃ³dosÃ­tani. Legyen egy virtuÃ¡lis metÃ³dus a harcosokat reprezentÃ¡lÃ³ Å‘sosztÃ¡lyban, ami paramÃ©terben vÃ¡rja a sÃ¡rkÃ¡nyt, Ã©s csÃ¶kkenti a sÃ¡rkÃ¡ny Ã©leterejÃ©t a harcostÃ³l fÃ¼ggÅ‘en:   A lovag annyi sÃ©rÃ¼lÃ©st okoz a sÃ¡rkÃ¡nynak, amennyi a lovag ereje. Ezt a sÃ©rÃ¼lÃ©st viszont csÃ¶kkenti a sÃ¡rkÃ¡ny pÃ¡ncÃ©lja, de soha nem 1 alÃ¡. A sÃ¡rkÃ¡ny Ã©letereje a sÃ©rÃ¼lÃ©s mÃ©rtÃ©kÃ©vel csÃ¶kken.   A lÃ¶vÃ©sz annyival csÃ¶kkenti a sÃ¡rkÃ¡ny Ã©leterejÃ©t, amennyi a lÃ¶vÃ©sz Ã¼gyessÃ©ge. A sÃ¡rkÃ¡ny pÃ¡ncÃ©lja ilyenkor hatÃ¡stalan.  A mÃ¡gus tÃ¡madÃ¡sÃ¡nak hatÃ¡sÃ¡ra a sÃ¡rkÃ¡ny megmaradt Ã©leterejÃ©nek arÃ¡nyosan akkora rÃ©szÃ©t veszÃ­ti el, amennyi a mÃ¡gus varÃ¡zsereje. A sÃ¡rkÃ¡ny pÃ¡ncÃ©lja ilyenkor is hatÃ¡stalan. KonkrÃ©tan, ha ğ»ğ‘ƒğ‘’ğ‘™ğ‘œğ‘¡ğ‘¡ğ‘’ a sÃ¡rkÃ¡ny megmaradt Ã©letereje a tÃ¡madÃ¡s elÅ‘tt Ã©s ğ‘€ a mÃ¡gus varÃ¡zsereje, akkor a tÃ¡madÃ¡s utÃ¡n a sÃ¡rkÃ¡ny Ã©letereje az alÃ¡bbi kÃ©plet szerint alakul (egÃ©szekre lefelÃ© kerekÃ­tve, vagyis nem szÃ¼ksÃ©ges kÃ¼lÃ¶n konvertÃ¡lÃ³ vagy kerekÃ­tÅ‘ mÅ±veletet vÃ©gezni):  ğ»ğ‘ƒğ‘¢ğ‘¡ğ‘ğ‘›ğ‘ = ğ»ğ‘ƒğ‘’ğ‘™ğ‘œğ‘¡ğ‘¡ğ‘’ â‹… (1 âˆ’ ğ‘€)  Legyen a Party osztÃ¡lyban egy raid metÃ³dus, ez szimulÃ¡lja a csatÃ¡t a csapat Ã©s egy sÃ¡rkÃ¡ny kÃ¶zÃ¶tt (ez utÃ³bbit paramÃ©terkÃ©nt kell Ã¡tadni), Ã©s kÃ¶zben ki is Ã­rja, hogy Ã©ppen mi tÃ¶rtÃ©nik, Ã©s hogy vÃ©gÃ¼l a csapat vagy a sÃ¡rkÃ¡ny nyert. A csata az alÃ¡bbi algoritmus szerint zajlik.   A csapatbÃ³l mindenki egyenkÃ©nt, a csapat sorrendjÃ©ben megtÃ¡madja a sÃ¡rkÃ¡nyt. A tÃ¡madÃ¡s mÃ³dja a harcostÃ³l fÃ¼gg (lÃ¡sd kÃ©sÅ‘bb). Ha bÃ¡rkinek a tÃ¡madÃ¡sÃ¡t kÃ¶vetÅ‘en a sÃ¡rkÃ¡ny Ã©letereje 0-ra vagy az alÃ¡ csÃ¶kken, a csata azonnal vÃ©get Ã©r a csapat gyÅ‘zelmÃ©vel, a tÃ¶bbiek nem kerÃ¼lnek sorra. Ha minden csapattag tÃ¡madott, akkor a sÃ¡rkÃ¡ny felfal 1 csapattagot. Ezt kÃ¶vetÅ‘en a csapat Ãºjra tÃ¡mad, a sÃ¡rkÃ¡ny Ãºjra felfal 1 csapattagot, Ã©s Ã­gy tovÃ¡bb. A felfalt csapattagok tÃ¶bbÃ© nem tÃ¡madnak. A sÃ¡rkÃ¡ny mindig a sorban kÃ¶vetkezÅ‘ csapattagot falja fel, Ã©s a sor elejÃ©rÅ‘l indul. Ha a sÃ¡rkÃ¡ny mindenkit felfalt, a csata a csapat veresÃ©gÃ©vel Ã©r vÃ©get.



Tavern, beolvasÃ¡s JSON fÃ¡jlbÃ³l
Tavern, printAll metÃ³dus
Party, beolvasÃ¡s szÃ¶vegfÃ¡jlbÃ³l
Party, printAll metÃ³dus
getTotalCost metÃ³dus
VirtuÃ¡lis metÃ³dus a hÃ¡romfÃ©le tÃ¡madÃ¡si mÃ³dra
Party, raid metÃ³dus, a csata algoritmusa

